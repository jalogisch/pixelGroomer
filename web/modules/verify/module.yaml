id: verify
name: Verify Checksums
description: Generate or verify file checksums for integrity checking
icon: check-circle
order: 5

parameters:
  - id: directory
    type: positional
    label: Directory
    placeholder: ~/Pictures/PhotoLibrary/2026-01-24
    required: true
    inherit_from: target_directory
    help: "Auto-filled from previous step if available."
    
  - id: action
    type: flag
    label: Action
    options:
      - value: -g
        label: Generate checksums
      - value: -c
        label: Verify existing checksums
      - value: -u
        label: Update checksums (add new files)
    default: -g
    
  - id: no_recursive
    type: boolean
    label: Only this directory (no subdirs)
    default: false
    cli_flag: --no-recursive

outputs:
  - id: verified_count
    type: number
    description: Number of files verified
  - id: failed_count
    type: number
    description: Number of files that failed verification
