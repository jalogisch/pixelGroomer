id: develop
name: Develop RAW
description: Convert RAW files to JPG using darktable or ImageMagick
icon: image
order: 3

parameters:
  - id: source
    type: positional
    label: Source (directory or files)
    placeholder: ~/Pictures/PhotoLibrary/2026-01-24
    required: true
    inherit_from: target_directory
    help: "Auto-filled from previous step if available."
    
  - id: output
    type: path
    label: Output Directory
    placeholder: "{SOURCE}/developed"
    default: "{SOURCE}/developed"
    cli_flag: --output
    help: "Use {SOURCE} as placeholder for the source directory. Example: {SOURCE}/developed creates 'developed' subfolder in each source directory."
    
  - id: processor
    type: select
    label: Processor
    options:
      - value: darktable
        label: darktable (higher quality)
      - value: imagemagick
        label: ImageMagick (faster)
    default: darktable
    cli_flag: --processor
    
  - id: preset
    type: text
    label: darktable Preset/Style
    placeholder: "Enduro Action"
    cli_flag: --preset
    
  - id: quality
    type: number
    label: JPEG Quality (1-100)
    default: 95
    cli_flag: --quality

outputs:
  - id: developed_count
    type: number
    description: Number of files developed
  - id: output_directory
    type: path
    description: Directory containing developed files
